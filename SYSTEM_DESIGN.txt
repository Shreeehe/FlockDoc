
================================================================================
                     FLOCKDOC - SYSTEM DESIGN DOCUMENT
              AI-Powered Poultry Disease Diagnosis Application
================================================================================


================================================================================
1. HIGH-LEVEL DESIGN (HLD)
================================================================================

1.1 SYSTEM OVERVIEW
-------------------
FlockDoc is a web-based AI poultry health assistant that helps farmers
diagnose diseases, analyze droppings images, and get treatment plans.

  Tech Stack:
  - Frontend : HTML + CSS + Vanilla JS (mobile-first, dark/light theme)
  - Backend  : Python FastAPI
  - AI       : Google Gemini 2.5 Flash (chat + vision) / Ollama (local)
  - Data     : JSON knowledge base (diseases, symptoms, treatments)


1.2 HIGH-LEVEL ARCHITECTURE
----------------------------

  +-----------------------------------------------------+
  |                     USER (Browser)                   |
  |   Mobile / Desktop â€” Chat, Predict, Image Upload     |
  +------------------------+----------------------------+
                           |
                     HTTP Requests
                           |
  +------------------------v----------------------------+
  |                  FastAPI Server                      |
  |                  (backend/main.py)                   |
  |                                                      |
  |   Routes:                                            |
  |   GET  /           â†’ Serve index.html                |
  |   GET  /style.css  â†’ Serve CSS                       |
  |   GET  /app.js     â†’ Serve JS                        |
  |   POST /api/chat   â†’ AI Chat                         |
  |   POST /api/predict â†’ Disease Prediction             |
  |   POST /api/analyze-image â†’ Droppings Analysis       |
  |   GET  /api/symptoms â†’ Symptom List                  |
  |   GET  /api/breeds/{type} â†’ Breed List               |
  |   GET  /api/diseases/{type} â†’ Disease Reference      |
  |   GET  /api/facts  â†’ Random Facts                    |
  |   GET  /api/tools  â†’ Vaccination/Feed/Biosecurity    |
  +------+----------+----------+-----------+-------------+
         |          |          |           |
         v          v          v           v
  +-----------+ +---------+ +---------+ +----------+
  | Chatbot   | |Disease  | |Image    | | JSON     |
  | (Gemini/  | |Predictor| |Analyzer | | Knowledge|
  |  Ollama)  | |(Rules)  | |(Vision) | | Base     |
  +-----------+ +---------+ +---------+ +----------+


1.3 HIGH-LEVEL DATA FLOW
--------------------------

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                     USER INTERACTION                         â”‚
  â”‚                                                              â”‚
  â”‚   Chat Tab               Predict Tab                         â”‚
  â”‚   --------               -----------                         â”‚
  â”‚   Type/speak symptoms    Select bird info + symptoms         â”‚
  â”‚         â”‚                Upload droppings image (optional)    â”‚
  â”‚         â”‚                         â”‚                          â”‚
  â”‚         v                         v                          â”‚
  â”‚   POST /api/chat          POST /api/predict                  â”‚
  â”‚         â”‚                    + POST /api/analyze-image       â”‚
  â”‚         â”‚                         â”‚                          â”‚
  â”‚         v                         v                          â”‚
  â”‚   Gemini AI generates     Rule-based matching against        â”‚
  â”‚   vet-style response      disease database + Gemini          â”‚
  â”‚         â”‚                 Vision for image                   â”‚
  â”‚         â”‚                         â”‚                          â”‚
  â”‚         v                         v                          â”‚
  â”‚   Structured response     Disease cards + treatment          â”‚
  â”‚   with [SECTIONS]         + severity + vet alert             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


1.4 COMPONENT SUMMARY TABLE
-----------------------------

  Component            File                    Purpose
  ----------           ----                    -------
  API Server           backend/main.py         Routes, CORS, static files
  AI Chatbot           backend/chatbot.py      Gemini/Ollama chat with prompts
  Disease Predictor    backend/disease_        Rule-based disease matching,
                       predictor.py            scoring, treatment lookup
  Image Analyzer       backend/image_          Gemini Vision for droppings
                       analyzer.py             photo analysis
  Frontend HTML        index.html              Chat UI, Predict form, nav
  Frontend CSS         style.css               Dark/light theme, animations
  Frontend JS          app.js                  API calls, DOM, voice input
  Disease Data         data/diseases.json      30+ diseases with symptoms
  Symptom Data         data/symptoms.json      Categorized symptom list
  Treatment Data       data/treatments.json    Treatment protocols
  Reference Data       data/reference.json     Poultry facts, breed info
  Tools Data           data/tools.json         Vaccination, feed, biosecurity


================================================================================
2. LOW-LEVEL DESIGN (LLD)
================================================================================

2.1 CHAT FLOW (Detailed)
--------------------------

  User types/speaks message
          â”‚
          v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ app.js:            â”‚
  â”‚ sendChatMessage()  â”‚
  â”‚ or toggleVoice()   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ POST /api/chat                         â”‚
  â”‚ Body: {message, bird_type, history[]}  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ main.py â†’ chat()                       â”‚
  â”‚ Calls chatbot.process_message()        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ chatbot.py â†’ process_message()         â”‚
  â”‚                                        â”‚
  â”‚  1. Is it a greeting? â”€â”€yesâ”€â”€> Return  â”‚
  â”‚     short greeting response            â”‚
  â”‚                â”‚                       â”‚
  â”‚               no                       â”‚
  â”‚                â”‚                       â”‚
  â”‚  2. Build context string               â”‚
  â”‚     (user msg + disease hints)         â”‚
  â”‚                â”‚                       â”‚
  â”‚  3. Build chat history from            â”‚
  â”‚     last 6 messages                    â”‚
  â”‚                â”‚                       â”‚
  â”‚  4. Send system_prompt + context       â”‚
  â”‚     to Gemini 2.5 Flash                â”‚
  â”‚                â”‚                       â”‚
  â”‚  5. Parse response:                    â”‚
  â”‚     - Detect response type             â”‚
  â”‚     - Generate suggestion pills        â”‚
  â”‚     - Detect disease mentions          â”‚
  â”‚                â”‚                       â”‚
  â”‚  6. Return {response, suggestions,     â”‚
  â”‚             disease_detected}          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ app.js â†’ appendChatMessage()           â”‚
  â”‚                                        â”‚
  â”‚  1. parseAIResponse(text)              â”‚
  â”‚     Split by [SECTION] headers         â”‚
  â”‚     Map to styled cards:               â”‚
  â”‚       [DIAGNOSIS] â†’ ğŸ©º card            â”‚
  â”‚       [TREATMENT] â†’ ğŸ’Š card            â”‚
  â”‚       [WARNING]   â†’ âš ï¸ card            â”‚
  â”‚       [QUESTION]  â†’ â“ card            â”‚
  â”‚                                        â”‚
  â”‚  2. Render suggestion pills            â”‚
  â”‚  3. Scroll to bottom                   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2.2 DISEASE PREDICTION FLOW (Detailed)
----------------------------------------

  User fills form:
    Bird Type, Breed, Age, Flock Size,
    Mortality Rate, Symptoms[], Image (optional)
          â”‚
          v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ app.js â†’ submitPrediction()            â”‚
  â”‚ Validate: at least 1 symptom selected  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                                          â”‚
           v                                          v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ POST /api/predict    â”‚              â”‚ POST /api/analyze-image  â”‚
  â”‚ {bird_type, age,     â”‚              â”‚ (only if image uploaded) â”‚
  â”‚  breed, symptoms[],  â”‚              â”‚ FormData: image file +   â”‚
  â”‚  mortality, flock}   â”‚              â”‚ bird_type                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                     â”‚
           v                                     v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ disease_predictor.py â”‚              â”‚ image_analyzer.py        â”‚
  â”‚ predict()            â”‚              â”‚ analyze()                â”‚
  â”‚                      â”‚              â”‚                          â”‚
  â”‚ Step 1: Get diseases â”‚              â”‚ 1. Resize image to       â”‚
  â”‚  for bird_type       â”‚              â”‚    512Ã—512               â”‚
  â”‚  (broiler/layer/     â”‚              â”‚ 2. Send to Gemini        â”‚
  â”‚   breeder)           â”‚              â”‚    Vision with prompt    â”‚
  â”‚                      â”‚              â”‚ 3. Parse response:       â”‚
  â”‚ Step 2: Score each   â”‚              â”‚    - droppings_type      â”‚
  â”‚  disease:            â”‚              â”‚    - color_analysis      â”‚
  â”‚  - Match input       â”‚              â”‚    - health_indicators   â”‚
  â”‚    symptoms to       â”‚              â”‚    - possible_conditions â”‚
  â”‚    disease symptoms  â”‚              â”‚    - severity            â”‚
  â”‚  - Calculate %       â”‚              â”‚    - recommendations     â”‚
  â”‚  - Age bonus if      â”‚              â”‚                          â”‚
  â”‚    age-appropriate   â”‚              â”‚ 4. Return structured     â”‚
  â”‚                      â”‚              â”‚    analysis              â”‚
  â”‚ Step 3: Sort by      â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚  match_score desc    â”‚                       â”‚
  â”‚  Take top 5          â”‚                       â”‚
  â”‚                      â”‚                       â”‚
  â”‚ Step 4: Calculate    â”‚                       â”‚
  â”‚  overall severity    â”‚                       â”‚
  â”‚  (Low/Moderate/      â”‚                       â”‚
  â”‚   High/Critical)     â”‚                       â”‚
  â”‚                      â”‚                       â”‚
  â”‚ Step 5: Get          â”‚                       â”‚
  â”‚  treatment plan      â”‚                       â”‚
  â”‚  from treatments.jsonâ”‚                       â”‚
  â”‚                      â”‚                       â”‚
  â”‚ Step 6: Check if     â”‚                       â”‚
  â”‚  vet needed          â”‚                       â”‚
  â”‚  (mortality>5%,      â”‚                       â”‚
  â”‚   critical severity) â”‚                       â”‚
  â”‚                      â”‚                       â”‚
  â”‚ Return:              â”‚                       â”‚
  â”‚  {diseases[],        â”‚                       â”‚
  â”‚   severity,          â”‚                       â”‚
  â”‚   treatment,         â”‚                       â”‚
  â”‚   prevention[],      â”‚                       â”‚
  â”‚   facts[],           â”‚                       â”‚
  â”‚   when_to_call_vet}  â”‚                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
           â”‚                                     â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ app.js â†’ renderPredictionResults()     â”‚
  â”‚                                        â”‚
  â”‚  Renders:                              â”‚
  â”‚  - Severity strip (color-coded)        â”‚
  â”‚  - Disease cards with match %          â”‚
  â”‚  - Matched symptoms tags               â”‚
  â”‚  - Treatment card                      â”‚
  â”‚  - Prevention tips                     â”‚
  â”‚  - Vet alert banner                    â”‚
  â”‚  - Image analysis (if uploaded)        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2.3 VOICE INPUT FLOW
-----------------------

  User taps ğŸ™ï¸ mic button
          â”‚
          v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ app.js â†’ toggleVoiceInput()            â”‚
  â”‚                                        â”‚
  â”‚ 1. Check browser support               â”‚
  â”‚    (SpeechRecognition API)             â”‚
  â”‚                â”‚                       â”‚
  â”‚ 2. Create SpeechRecognition instance   â”‚
  â”‚    lang: en-US, interimResults: true   â”‚
  â”‚                â”‚                       â”‚
  â”‚ 3. onstart â†’ mic button turns red      â”‚
  â”‚              pulse animation           â”‚
  â”‚                â”‚                       â”‚
  â”‚ 4. onresult â†’ accumulate transcript    â”‚
  â”‚    Display in textarea in real-time    â”‚
  â”‚                â”‚                       â”‚
  â”‚ 5. onend â†’ stop listening              â”‚
  â”‚    mic button returns to normal        â”‚
  â”‚                â”‚                       â”‚
  â”‚ 6. User can tap Send or mic again      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2.4 THEME SYSTEM
-----------------

  Page Load
      â”‚
      v
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Check localStorage       â”‚
  â”‚ for saved theme           â”‚
  â”‚      â”‚                   â”‚
  â”‚      â”œâ”€ found? â†’ use it  â”‚
  â”‚      â”‚                   â”‚
  â”‚      â””â”€ not found?       â”‚
  â”‚         Check OS pref    â”‚
  â”‚         (prefers-color-  â”‚
  â”‚          scheme: dark)   â”‚
  â”‚              â”‚           â”‚
  â”‚              v           â”‚
  â”‚  Set data-theme attr     â”‚
  â”‚  on <html> element       â”‚
  â”‚              â”‚           â”‚
  â”‚  CSS uses:               â”‚
  â”‚  [data-theme="dark"]     â”‚
  â”‚  for all dark overrides  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2.5 DISEASE SCORING ALGORITHM
-------------------------------

  For each disease in database:

  1. SYMPTOM MATCHING
     matched = intersection(user_symptoms, disease_symptoms)
     match_ratio = len(matched) / len(disease_symptoms)
     base_score = match_ratio Ã— 100

  2. AGE ADJUSTMENT
     if disease.age_range matches bird age:
       score += 10 (age bonus)

  3. RANKING
     Sort all diseases by score DESC
     Return top 5

  4. SEVERITY CALCULATION
     if top_score >= 70 AND mortality > 5%  â†’ "Critical"
     if top_score >= 70 OR  mortality > 3%  â†’ "High"
     if top_score >= 40                     â†’ "Moderate"
     else                                   â†’ "Low"


2.6 FILE STRUCTURE
-------------------

  FlockDoc/
  â”œâ”€â”€ index.html              # Main HTML (SPA â€” chat + predict tabs)
  â”œâ”€â”€ style.css               # Full CSS (2200+ lines, dark/light)
  â”œâ”€â”€ app.js                  # Frontend logic (700+ lines)
  â”œâ”€â”€ .env                    # API keys (git-ignored)
  â”œâ”€â”€ .env.example            # Template for env vars
  â”œâ”€â”€ .gitignore              # Git ignore rules
  â”œâ”€â”€ requirements.txt        # Python dependencies
  â”œâ”€â”€ pyproject.toml          # Project metadata
  â”œâ”€â”€ README.md               # Project readme
  â”œâ”€â”€ LICENSE                 # License file
  â”‚
  â”œâ”€â”€ backend/
  â”‚   â”œâ”€â”€ __init__.py         # Package init
  â”‚   â”œâ”€â”€ main.py             # FastAPI app, routes, CORS
  â”‚   â”œâ”€â”€ chatbot.py          # Gemini + Ollama chat classes
  â”‚   â”œâ”€â”€ disease_predictor.py# Rule-based prediction engine
  â”‚   â””â”€â”€ image_analyzer.py   # Gemini Vision image analysis
  â”‚
  â””â”€â”€ data/
      â”œâ”€â”€ diseases.json       # 30+ diseases (broiler/layer/nutritional)
      â”œâ”€â”€ symptoms.json       # Categorized symptoms for UI
      â”œâ”€â”€ treatments.json     # Treatment protocols by disease
      â”œâ”€â”€ reference.json      # Facts, breeds, general info
      â””â”€â”€ tools.json          # Vaccination, feed, biosecurity data


2.7 API ENDPOINTS TABLE
------------------------

  Method  Endpoint              Input                    Output
  ------  --------              -----                    ------
  GET     /                     â€”                        index.html
  GET     /style.css            â€”                        CSS file
  GET     /app.js               â€”                        JS file
  GET     /health               â€”                        {status: "healthy"}
  POST    /api/chat             {message, bird_type,     {response, suggestions,
                                 conversation_history}    disease_detected}
  POST    /api/predict          {bird_type, age_days,    {diseases[], severity,
                                 breed, symptoms[],       treatment, prevention[],
                                 mortality_rate,           facts[], when_to_call_vet,
                                 flock_size}               confidence}
  POST    /api/analyze-image    FormData(image,          {droppings_type,
                                 bird_type)               color_analysis,
                                                          health_indicators[],
                                                          possible_conditions[],
                                                          severity,
                                                          recommendations[]}
  GET     /api/symptoms         â€”                        {category: {name, symptoms[]}}
  GET     /api/breeds/{type}    bird_type                {breeds: [...]}
  GET     /api/diseases/{type}  bird_type                {diseases: [...]}
  GET     /api/facts            â€”                        {facts: [...]}
  GET     /api/tools            â€”                        {vaccination, feed, ...}


2.8 ENVIRONMENT VARIABLES
--------------------------

  Variable          Default     Description
  --------          -------     -----------
  GOOGLE_API_KEY    â€”           Gemini API key (required for gemini mode)
  GEMINI_API_KEY    â€”           Alias for above
  AI_PROVIDER       gemini      "gemini" or "ollama"
  OLLAMA_MODEL      llama3.2:3b Local model name (if using ollama)


================================================================================
3. DEPLOYMENT
================================================================================

  Platform: Render.com (Web Service)

  Build Command:   pip install -r requirements.txt
  Start Command:   uvicorn backend.main:app --host 0.0.0.0 --port $PORT

  Environment Variables set in Render dashboard:
    GOOGLE_API_KEY = <your-key>
    AI_PROVIDER    = gemini

  Auto-deploys on push to main branch.

================================================================================
                              END OF DOCUMENT
================================================================================
